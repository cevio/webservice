!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.webService=e():t.webService=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(8),o=n(4),i=n(3),s=n(5),a=n(6),u=t.exports=function(t){var e=new i,n=r.createServer();return e.http=n,n.namespace="webservice",n.defineFreeze("browser",e),Object.defineProperty(n.request,"$data",u.defineParse(n)),u.listen(t,n),s(n,e),t.component("webview",o(e)),t.directive("so-href",a(t,n)),n};u.listen=function(t,e){var n=e.listen.bind(e);e.listen=function(r){t.bootstrap(r,e.browser.data),setTimeout(function(){e.browser.animate&&e.browser.animate(e.browser),n()},0)}},u.defineParse=function(t){return{set:function(){throw new Error("you can not set req.$data")},get:function(){return t.browser.scope}}},u.engineAnimate=n(12)},function(t,e,n){(function(t,r){function o(t,e){this._id=t,this._clearFn=e}var i=n(2).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},p=0;e.setTimeout=function(){return new o(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=p++,r=arguments.length<2?!1:a.call(arguments,1);return u[n]=!0,i(function(){u[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete u[t]}}).call(e,n(1).setImmediate,n(1).clearImmediate)},function(t,e){function n(){p=!1,s.length?u=s.concat(u):c=-1,u.length&&r()}function r(){if(!p){var t=setTimeout(n);p=!0;for(var e=u.length;e;){for(s=u,u=[];++c<e;)s&&s[c].run();c=-1,e=u.length}s=null,p=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var s,a=t.exports={},u=[],p=!1,c=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new o(t,e)),1!==u.length||p||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=i,a.addListener=i,a.once=i,a.off=i,a.removeListener=i,a.removeAllListeners=i,a.emit=i,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(7).EventEmitter,o=t.exports=function(){this.views={},this.data={global:{}},this.current=null,this.target=null,this.animate=null,Object.defineProperty(this,"scope",{set:function(t){this.data.global=t},get:function(){return this.data.global}}),Object.defineProperty(this,"engine",{get:function(){return this.animate},set:function(t){this.animate=t}})};o.prototype=r.prototype,o.prototype.dispatch=function(t,e){this.current=t,this.target=e},o.prototype.exchange=function(){this.current=this.target,this.target=null,this.http.history=null}},function(t,e){"use strict";function n(t){return this.wrapname=this.virtualDom.getAttribute("name"),'<div class="webview hide"><section>'+t+"</section></div>"}function r(t){return function(){for(var e=0;e<this.element.childNodes.length;e++)if(1===this.element.childNodes[e].nodeType){this.wraproot=this.element.childNodes[e];break}t.views[this.wrapname]=this}}t.exports=function(t){return{props:["data"],events:{wrapTemplate:n,init:r(t)}}}},function(t,e){"use strict";function n(t,e){return function(r){var o=e.views[r];if(!o)return e.emit("renderError",new Error("template of "+r+" is not exist"));var i=e.current;e.dispatch(i,o),e.engine?e.emit(t.history,e,t):n.engine(e,t)}}t.exports=function(t,e){t.response.defineFreeze("render",n(t,e))},n.engine=function(t,e){var n=t.current,r=t.target;n&&n.wraproot.setAttribute("class","webview hide"),r&&r.wraproot.setAttribute("class","webview"),t.emit(e.history,t),t.exchange()}},function(t,e){"use strict";t.exports=function(t,e){function n(t){this.value!==t&&(this.value=t)}function r(t){return function(){e.response.redirect(t.value)}}return function(e,o,i){var s=t.util.formatExpression(e.nodeValue),a=new t.nodeStructor(o,s);return a.parent=i,a.set=n,o.addEventListener("click",r(a),!1),o.removeAttribute("so-href"),a}}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,a,u,p;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(o=arguments.length,a=new Array(o-1),u=1;o>u;u++)a[u-1]=arguments[u];n.apply(this,a)}else if(i(n)){for(o=arguments.length,a=new Array(o-1),u=1;o>u;u++)a[u-1]=arguments[u];for(p=n.slice(),o=p.length,u=0;o>u;u++)p[u].apply(this,a)}return!0},n.prototype.addListener=function(t,e){var o;if(!r(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned){var o;o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),o||(o=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var o=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(a=s;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=a;break}if(0>o)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?r(t._events[e])?1:t._events[e].length:0}},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t,e,n,r){return this.stacks.push(new p(t,e,n,r)),this}function o(t){function e(u){if(u&&"route"===u)return t();var p=a[n++];if(!p)return t(u);var c=p.match(i);if(c)if(r.params=p.params,"use"===p.method)u?p.handle_error(u,r,o,e):p.handle_request(r,o,e);else if(s===p.method)"load"===s?(s="active",u?p.handle_error(u,r,o,e):(p.handle_request(r,o),e())):u?p.handle_error(u,r,o,e):(p.handle_request(r,o),e("route"));else{if("active"===p.method&&"load"===s){var l=t;t=function(){u?p.handle_error(u,r,o,e):p.handle_request(r,o),l()}}e(u)}else e(u)}var n=0,r=this.request,o=this.response,i=r.path,s=r.method,a=this.stacks;return t||(t=function(){}),0===a.length?t():void e()}function i(){var t=this,e=this.namespace+"-history",n=this.request.session[e]||"[]",r=this.request.href;n=JSON.parse(n),this.history="goahead",history.replaceState({url:r},document.title,"#"+r),-1===n.indexOf(r)&&(n.push(r),this.response.session.set(e,n)),this.match(function(){t.emit("ready",t.request,t.response),s(t.response)})}function s(t){window.addEventListener("popstate",function(e){e.state&&t.redirect(e.state.url)},!1)}var a=n(6),u=n(7),p=n(5),c=n(1),l=n(9).EventEmitter,f=t.exports=function(){this.request=new a,this.response=new u,this.namespace="http",c.defineFreeze(this.request,"http",this),c.defineFreeze(this.response,"http",this),c.defineFreeze(this,"define",function(t,e){c.define(this,t,e)}),c.defineFreeze(this,"defineFreeze",function(t,e){c.defineFreeze(this,t,e)}),this.handle()};f.prototype=l.prototype,f.prototype.handle=function(){this.caseSensitive=!1,this.defineFreeze("stacks",[]),this.defineFreeze("push",r),this.defineFreeze("match",o),this.define("listen",i),this.defineFreeze("looser",{sensitive:this.caseSensitive,strict:!1,end:!1}),this.defineFreeze("strict",{sensitive:this.caseSensitive,strict:!0,end:!0})},f.prototype.use=function(t,e){return"function"==typeof t&&(e=t,t="/"),this.push("use",t,this.looser,e)},f.prototype.load=function(t,e){return"function"==typeof t&&(e=t,t="/"),this.push("load",t,this.strict,e)},f.prototype.active=function(t,e){return"function"==typeof t&&(e=t,t="/"),this.push("active",t,this.strict,e)},f.request=a,f.response=u,f.createServer=function(t){var e=new f;return"function"==typeof t&&t(e.request,e.response),e}},function(t,e){"use strict";e.define=function(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})},e.defineFreeze=function(t,e,n){Object.defineProperty(t,e,{value:n,enumerable:!1,writable:!1,configurable:!1})}},function(t,e,n){var r,o;!function(i){r=i,o="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==o&&(t.exports=o))}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(n){function r(e,o,i){var s;if(arguments.length>1){if(i=t({path:"/"},r.defaults,i),"number"==typeof i.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(u){}return o=encodeURIComponent(String(o)),o=o.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",o,i.expires&&"; expires="+i.expires.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}e||(s={});for(var p=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,l=0;l<p.length;l++){var f=p[l].split("="),h=f[0].replace(c,decodeURIComponent),d=f.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{if(d=n&&n(d,h)||d.replace(c,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(u){}if(e===h){s=d;break}e||(s[h]=d)}catch(u){}}return s}return r.get=r.set=r,r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}return e()})},function(t,e,n){var r=n(13);e.format=function(t,e){if(t&&t.length){var n={};return t.split("&").forEach(function(t){var o,i,s=t.indexOf("=");s>-1?(o=t.substring(0,s),i=t.substring(s+1)):(o=t,i=""),e&&(i=decodeURIComponent(i)),void 0!==n[o]?r.type(n[o],"Array")?-1===n[o].indexOf(i)&&n[o].push(i):n[o]!==i&&(n[o]=[n[o]],n[o].push(i)):n[o]=i}),n}return{}},e.toString=function(t,e){var n=[];for(var r in t)n.push(r+"="+(e?encodeURIComponent(t[r]):t[r]));return n.join("&")}},function(t,e,n){"use strict";function r(t,e,n){return!0}function o(t,e,n,o){return t.global?r(e||b,n,o):void 0}function i(t){t.global&&0===A.active++&&o(t,null,"ajaxStart")}function s(t){t.global&&!--A.active&&o(t,null,"ajaxStop")}function a(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||o(e,n,"ajaxBeforeSend",[t,e])===!1?!1:void o(e,n,"ajaxSend",[t,e])}function u(t,e,n){var r=n.context,i="success";n.success.call(r,t,i,e),o(n,r,"ajaxSuccess",[e,n,t]),c(i,e,n)}function p(t,e,n,r){var i=r.context;r.error.call(i,n,e,t),o(r,i,"ajaxError",[n,r,t]),c(e,n,r)}function c(t,e,n){var r=n.context;n.complete.call(r,e,t),o(n,r,"ajaxComplete",[e,n]),s(n)}function l(){}function f(t){return t&&(t==L?"html":t==E?"json":x.test(t)?"script":T.test(t)&&"xml")||"text"}function h(t,e){return(t+"&"+e).replace(/[&?]{1,2}/,"?")}function d(t){"object"===F(t.data)&&(t.data=m(t.data)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=h(t.url,t.data))}function v(t,e,n,r){var o="array"===F(e);for(var i in e){var s=e[i];r&&(i=n?r:r+"["+(o?"":i)+"]"),!r&&o?t.add(s.name,s.value):(n?"array"===F(s):"object"===F(s))?v(t,s,n,i):t.add(i,s)}}function m(t,e){var n=[];return n.add=function(t,e){this.push(S(t)+"="+S(e))},v(n,t,e),n.join("&").replace("%20","+")}function g(t){var e=Array.prototype.slice;return e.call(arguments,1).forEach(function(e){for(y in e)void 0!==e[y]&&(t[y]=e[y])}),t}var y,w,_=0,b=window.document,x=/^(?:text|application)\/javascript/i,T=/^(?:text|application)\/xml/i,E="application/json",L="text/html",C=/^\s*$/,F=n(14),A=t.exports=function(t){var e=g({},t||{});for(y in A.settings)void 0===e[y]&&(e[y]=A.settings[y]);i(e),e.crossDomain||(e.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(e.url)&&RegExp.$2!=window.location.host);var n=e.dataType,r=/=\?/.test(e.url);if("jsonp"==n||r)return r||(e.url=h(e.url,"callback=?")),A.JSONP(e);e.url||(e.url=window.location.toString()),d(e);var o,s=e.accepts[n],c={},v=/^([\w-]+:)\/\//.test(e.url)?RegExp.$1:window.location.protocol,m=A.settings.xhr();e.crossDomain||(c["X-Requested-With"]="XMLHttpRequest"),s&&(c.Accept=s,s.indexOf(",")>-1&&(s=s.split(",",2)[0]),m.overrideMimeType&&m.overrideMimeType(s)),(e.contentType||e.data&&"GET"!=e.type.toUpperCase())&&(c["Content-Type"]=e.contentType||"application/x-www-form-urlencoded"),e.headers=g(c,e.headers||{}),m.onreadystatechange=function(){if(4==m.readyState){clearTimeout(o);var t,r=!1;if(m.status>=200&&m.status<300||304==m.status||0==m.status&&"file:"==v){n=n||f(m.getResponseHeader("content-type")),t=m.responseText;try{"script"==n?(1,eval)(t):"xml"==n?t=m.responseXML:"json"==n&&(t=C.test(t)?null:JSON.parse(t))}catch(i){r=i}r?p(r,"parsererror",m,e):u(t,m,e)}else p(null,"error",m,e)}};var _="async"in e?e.async:!0;m.open(e.type,e.url,_);for(w in e.headers)m.setRequestHeader(w,e.headers[w]);return a(m,e)===!1?(m.abort(),!1):(e.timeout>0&&(o=setTimeout(function(){m.onreadystatechange=l,m.abort(),p(null,"timeout",m,e)},e.timeout)),m.send(e.data?e.data:null),m)};A.active=0,A.JSONP=function(t){if(!("type"in t))return A(t);var e,n="jsonp"+ ++_,r=b.createElement("script"),o=function(){n in window&&(window[n]=l),c("abort",i,t)},i={abort:o},s=b.getElementsByTagName("head")[0]||b.documentElement;return t.error&&(r.onerror=function(){i.abort(),t.error()}),window[n]=function(r){clearTimeout(e),delete window[n],u(r,i,t)},d(t),r.src=t.url.replace(/=\?/,"="+n),s.insertBefore(r,s.firstChild),t.timeout>0&&(e=setTimeout(function(){i.abort(),c("timeout",i,t)},t.timeout)),i},A.settings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:E,xml:"application/xml, text/xml",html:L,text:"text/plain"},crossDomain:!1,timeout:0},A.get=function(t,e){return A({url:t,success:e})},A.post=function(t,e,n,r){return"function"===F(e)&&(r=r||n,n=e,e=null),A({type:"POST",url:t,data:e,success:n,dataType:r})},A.getJSON=function(t,e){return A({url:t,success:e,dataType:"json"})};var S=encodeURIComponent},function(t,e,n){"use strict";function r(t,e,n,o){if(!(this instanceof r))return new r(e,n,o);var s=n||{};this.handle=o,this.name=o.name||"<anonymous>",this.params=void 0,this.path=void 0,this.method=t,this.regexp=i(e,this.keys=[],s),"/"===e&&s.end===!1&&(this.regexp.fast_slash=!0)}function o(t){if("string"!=typeof t||0===t.length)return t;try{return decodeURIComponent(t)}catch(e){throw e instanceof URIError&&(e.message="Failed to decode param '"+t+"'",e.status=e.statusCode=400),e}}var i=n(11),s=Object.prototype.hasOwnProperty;t.exports=r,r.prototype.handle_error=function(t,e,n,r){var o=this.handle;if(4!==o.length)return r(t);try{o(t,e,n,r)}catch(i){r(i)}},r.prototype.handle_request=function(t,e,n){var r=this.handle;if(r.length>3)return n();try{r(t,e,n)}catch(o){n(o)}},r.prototype.match=function(t){if(null==t)return this.params=void 0,this.path=void 0,!1;if(this.regexp.fast_slash)return this.params={},this.path="",!0;var e=this.regexp.exec(t);if(!e)return this.params=void 0,this.path=void 0,!1;this.params={},this.path=e[0];for(var n=this.keys,r=this.params,i=1;i<e.length;i++){var a=n[i-1],u=a.name,p=o(e[i]);void 0===p&&s.call(r,u)||(r[u]=p)}return!0}},function(t,e,n){"use strict";function r(t){var e=window[t+"Storage"],n={};if(e)for(var r in e)n[r]=e.getItem(r);return n}var o=n(3),i=n(1),s=n(2),a=t.exports=function(){this.href=null,this.query=null,this.params=null,this.path=null,this.search=null,this.method=null,this.referer=null,i.defineFreeze(this,"define",function(t,e){i.define(this,t,e)}),i.defineFreeze(this,"defineFreeze",function(t,e){i.defineFreeze(this,t,e)}),this.defineFreeze("paths",[]),this.init(),this.store=r("local"),this.session=r("session"),this.cookie=s.get()||{}};a.prototype.init=function(){this.href=(window.location.hash||"").replace(/^#/,"")||"/";var t=this.href.indexOf("?");t>-1?(this.path=this.href.substring(0,t),this.search=this.href.substring(t+1)):(this.path=this.href,this.search=""),this.path=this.path||"/",this.search.length?this.query=o.format(this.search):this.query={},this.method="active",-1==this.paths.indexOf(this.path)&&(this.method="load",this.paths.push(this.path))}},function(t,e,n){"use strict";function r(t){var e=document.body;document.title=t;var n=document.createElement("iframe");n.src="/favicon.ico",n.onload=function(){setTimeout(function(){n.parentNode.removeChild(n)},0)},e.appendChild(n)}function o(){for(var t,e,n,r=arguments,o=0;o<r.length;o++)switch(Object.prototype.toString.call(r[o])){case"[object Function]":n=r[o];break;case"[object Object]":e=r[o];break;case"[object String]":t=r[o]}e||(e={});var i=t.indexOf("?"),a=void 0,c=void 0;if(i>-1?(a=t.substring(0,i),c=t.substring(i+1)):(a=t.replace(/\?$/,""),c=""),c){var l=u.format(c);for(var f in l)e[f]||(e[f]=l[f])}var h=u.toString(e);return t=h.length?a+"?"+h:a,"function"!=typeof n?new p(function(e){s(t,e)}):void s(t,n)}var i=n(2),s=n(10),a=n(1),u=n(3),p=n(8).Promise,c=n(4),l=function(t){return{set:function(e,n){n=JSON.stringify(n),window.localStorage.setItem(e,n),t.http.request.store[e]=n},remove:function(e){t.http.request.store[e]&&(window.localStorage.removeItem(e),delete t.http.request.store[e])}}},f=function(t){return{set:function(e,n){n=JSON.stringify(n),window.sessionStorage.setItem(e,n),t.http.request.session[e]=n},remove:function(e){t.http.request.session[e]&&(window.sessionStorage.removeItem(e),delete t.http.request.session[e])}}},h=function(t){return{set:function(e,n){i.set(e,n),t.http.request.cookie[e]=n},remove:function(e){t.http.request.cookie[e]&&(i.remove(e),delete t.http.request.cookie[e])}}},d=t.exports=function(){a.defineFreeze(this,"define",function(t,e){a.define(this,t,e)}),a.defineFreeze(this,"defineFreeze",function(t,e){a.defineFreeze(this,t,e)}),this.defineFreeze("title",r),this.defineFreeze("cookie",h(this)),this.defineFreeze("jsonp",o),this.defineFreeze("store",l(this)),this.defineFreeze("session",f(this)),this.defineFreeze("ajax",c)};d.prototype.redirect=function(t){var e=this.http,n=e.request,r=this,o=this.http.namespace+"-history",i=n.session[o]||"[]";i=JSON.parse(i);var s=n.referer?i.indexOf(n.referer):-1,a=i.indexOf(t);-1==s?e.history="goahead":-1==a?e.history="goahead":a>s?e.history="goahead":s>a?e.history="retreat":e.history="quiescence",history.pushState({url:t},document.title,"#"+t),-1===i.indexOf(t)&&(i.push(t),this.session.set(o,i)),setTimeout(function(){n.init(),e.match(function(){n.referer=t,e.emit("redirected",n,r)})},0)}},function(t,e,n){var r;(function(t,o,i){/*!
		 * @overview es6-promise - a tiny implementation of Promises/A+.
		 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
		 * @license   Licensed under MIT license
		 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
		 * @version   3.0.2
		 */
(function(){"use strict";function s(t){return"function"==typeof t||"object"==typeof t&&null!==t}function a(t){return"function"==typeof t}function u(t){return"object"==typeof t&&null!==t}function p(t){H=t}function c(t){V=t}function l(){return function(){t.nextTick(m)}}function f(){return function(){W(m)}}function h(){var t=0,e=new tt(m),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function d(){var t=new MessageChannel;return t.port1.onmessage=m,function(){t.port2.postMessage(0)}}function v(){return function(){setTimeout(m,1)}}function m(){for(var t=0;K>t;t+=2){var e=rt[t],n=rt[t+1];e(n),rt[t]=void 0,rt[t+1]=void 0}K=0}function g(){try{var t=n(18);return W=t.runOnLoop||t.runOnContext,f()}catch(e){return v()}}function y(){}function w(){return new TypeError("You cannot resolve a promise with itself")}function _(){return new TypeError("A promises callback cannot return that same promise.")}function b(t){try{return t.then}catch(e){return at.error=e,at}}function x(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function T(t,e,n){V(function(t){var r=!1,o=x(n,e,function(n){r||(r=!0,e!==n?C(t,n):A(t,n))},function(e){r||(r=!0,S(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,S(t,o))},t)}function E(t,e){e._state===it?A(t,e._result):e._state===st?S(t,e._result):j(e,void 0,function(e){C(t,e)},function(e){S(t,e)})}function L(t,e){if(e.constructor===t.constructor)E(t,e);else{var n=b(e);n===at?S(t,at.error):void 0===n?A(t,e):a(n)?T(t,e,n):A(t,e)}}function C(t,e){t===e?S(t,w()):s(e)?L(t,e):A(t,e)}function F(t){t._onerror&&t._onerror(t._result),O(t)}function A(t,e){t._state===ot&&(t._result=e,t._state=it,0!==t._subscribers.length&&V(O,t))}function S(t,e){t._state===ot&&(t._state=st,t._result=e,V(F,t))}function j(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+it]=n,o[i+st]=r,0===i&&t._state&&V(O,t)}function O(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?k(n,r,o,i):o(i);t._subscribers.length=0}}function R(){this.error=null}function I(t,e){try{return t(e)}catch(n){return ut.error=n,ut}}function k(t,e,n,r){var o,i,s,u,p=a(n);if(p){if(o=I(n,r),o===ut?(u=!0,i=o.error,o=null):s=!0,e===o)return void S(e,_())}else o=r,s=!0;e._state!==ot||(p&&s?C(e,o):u?S(e,i):t===it?A(e,o):t===st&&S(e,o))}function P(t,e){try{e(function(e){C(t,e)},function(e){S(t,e)})}catch(n){S(t,n)}}function B(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(y),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?A(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&A(n.promise,n._result))):S(n.promise,n._validationError())}function q(t){return new pt(this,t).promise}function N(t){function e(t){C(o,t)}function n(t){S(o,t)}var r=this,o=new r(y);if(!G(t))return S(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,s=0;o._state===ot&&i>s;s++)j(r.resolve(t[s]),void 0,e,n);return o}function U(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(y);return C(n,t),n}function M(t){var e=this,n=new e(y);return S(n,t),n}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function D(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function $(t){this._id=dt++,this._state=void 0,this._result=void 0,this._subscribers=[],y!==t&&(a(t)||z(),this instanceof $||D(),P(this,t))}function J(){var t;if("undefined"!=typeof o)t=o;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=vt)}var Y;Y=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var W,H,X,G=Y,K=0,V=({}.toString,function(t,e){rt[K]=t,rt[K+1]=e,K+=2,2===K&&(H?H(m):X())}),Z="undefined"!=typeof window?window:void 0,Q=Z||{},tt=Q.MutationObserver||Q.WebKitMutationObserver,et="undefined"!=typeof t&&"[object process]"==={}.toString.call(t),nt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,rt=new Array(1e3);X=et?l():tt?h():nt?d():void 0===Z?g():v();var ot=void 0,it=1,st=2,at=new R,ut=new R;B.prototype._validateInput=function(t){return G(t)},B.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},B.prototype._init=function(){this._result=new Array(this.length)};var pt=B;B.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,o=0;n._state===ot&&e>o;o++)t._eachEntry(r[o],o)},B.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;u(t)?t.constructor===r&&t._state!==ot?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=t)},B.prototype._settledAt=function(t,e,n){var r=this,o=r.promise;o._state===ot&&(r._remaining--,t===st?S(o,n):r._result[e]=n),0===r._remaining&&A(o,r._result)},B.prototype._willSettleAt=function(t,e){var n=this;j(t,void 0,function(t){n._settledAt(it,e,t)},function(t){n._settledAt(st,e,t)})};var ct=q,lt=N,ft=U,ht=M,dt=0,vt=$;$.all=ct,$.race=lt,$.resolve=ft,$.reject=ht,$._setScheduler=p,$._setAsap=c,$._asap=V,$.prototype={constructor:$,then:function(t,e){var n=this,r=n._state;if(r===it&&!t||r===st&&!e)return this;var o=new this.constructor(y),i=n._result;if(r){var s=arguments[r-1];V(function(){k(r,o,s,i)})}else j(n,o,t,e);return o},"catch":function(t){return this.then(null,t)}};var mt=J,gt={Promise:vt,polyfill:mt};n(15).amd?(r=function(){return gt}.call(e,n,e,i),!(void 0!==r&&(i.exports=r))):"undefined"!=typeof i&&i.exports?i.exports=gt:"undefined"!=typeof this&&(this.ES6Promise=gt),mt()}).call(this)}).call(e,n(17),function(){return this}(),n(16)(t))},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,a,u,p;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(o=arguments.length,a=new Array(o-1),u=1;o>u;u++)a[u-1]=arguments[u];n.apply(this,a)}else if(i(n)){for(o=arguments.length,a=new Array(o-1),u=1;o>u;u++)a[u-1]=arguments[u];for(p=n.slice(),o=p.length,u=0;o>u;u++)p[u].apply(this,a)}return!0},n.prototype.addListener=function(t,e){var o;if(!r(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned){var o;o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),o||(o=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var o=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(a=s;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=a;break}if(0>o)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?r(t._events[e])?1:t._events[e].length:0}},function(t,e){function n(t){for(var e="",n=0;t>n;n++){var o=Math.ceil(35*Math.random());e+=r[o]}return e}var r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],o=t.exports=function(t,e,r){r||(r="callback");var i=t.indexOf("?"),s="",a="",u="jsonp_"+(new Date).getTime()+"_"+n(10),p=null;i>-1?(a=t.substring(i),s=t.substring(0,i),t="?"===a?s+"?"+r+"="+u:s+a+"&"+r+"="+u):t=t+"?"+r+"="+u,window[u]=function(t){p=t},o.script(t,function(){setTimeout(function(){"function"==typeof e&&e(p)},0)})};o.script=function(t,e){var n=document.createElement("script"),r=window.document,o=r.head||r.getElementsByTagName("head")[0]||r.documentElement,i=o.getElementsByTagName("base")[0];n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n.onreadystatechange=null,"function"==typeof e&&e.call(this))},n.async=!0,n.src=t,i?o.insertBefore(n,i):o.appendChild(n)}},function(t,e,n){function r(t){for(var e,n=[],r=0,o=0,i="";null!=(e=m.exec(t));){var s=e[0],u=e[1],p=e.index;if(i+=t.slice(o,p),o=p+s.length,u)i+=u[1];else{i&&(n.push(i),i="");var c=e[2],l=e[3],f=e[4],h=e[5],d=e[6],v=e[7],g="+"===d||"*"===d,y="?"===d||"*"===d,w=c||"/",_=f||h||(v?".*":"[^"+w+"]+?");n.push({name:l||r++,prefix:c||"",delimiter:w,optional:y,repeat:g,pattern:a(_)})}}return o<t.length&&(i+=t.substr(o)),i&&n.push(i),n}function o(t){return i(r(t))}function i(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^"+t[n].pattern+"$"));return function(n){for(var r="",o=n||{},i=0;i<t.length;i++){var s=t[i];if("string"!=typeof s){var a,u=o[s.name];if(null==u){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to be defined')}if(v(u)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received "'+u+'"');if(0===u.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var p=0;p<u.length;p++){if(a=encodeURIComponent(u[p]),!e[i].test(a))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received "'+a+'"');r+=(0===p?s.prefix:s.delimiter)+a}}else{if(a=encodeURIComponent(u),!e[i].test(a))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+a+'"');r+=s.prefix+a}}else r+=s}return r}}function s(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function a(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function u(t,e){return t.keys=e,t}function p(t){return t.sensitive?"":"i"}function c(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return u(t,e)}function l(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(d(t[o],e,n).source);var i=new RegExp("(?:"+r.join("|")+")",p(n));return u(i,e)}function f(t,e,n){for(var o=r(t),i=h(o,n),s=0;s<o.length;s++)"string"!=typeof o[s]&&e.push(o[s]);return u(i,e)}function h(t,e){e=e||{};for(var n=e.strict,r=e.end!==!1,o="",i=t[t.length-1],a="string"==typeof i&&/\/$/.test(i),u=0;u<t.length;u++){var c=t[u];if("string"==typeof c)o+=s(c);else{var l=s(c.prefix),f=c.pattern;c.repeat&&(f+="(?:"+l+f+")*"),f=c.optional?l?"(?:"+l+"("+f+"))?":"("+f+")?":l+"("+f+")",o+=f}}return n||(o=(a?o.slice(0,-2):o)+"(?:\\/(?=$))?"),o+=r?"$":n&&a?"":"(?=\\/|$)",new RegExp("^"+o,p(e))}function d(t,e,n){return e=e||[],v(e)?n||(n={}):(n=e,e=[]),t instanceof RegExp?c(t,e,n):v(t)?l(t,e,n):f(t,e,n)}var v=n(12);t.exports=d,t.exports.parse=r,t.exports.compile=o,t.exports.tokensToFunction=i,t.exports.tokensToRegExp=h;var m=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){e.type=function(t,e){var n=Object.prototype.toString.call(t).split(" ")[1].replace(/\]$/,"");return e?n==e:n},e.mixin=function(t,e,n){for(var r in e)t[r]?n&&(t[r]=e[r]):t[r]=e[r];return t}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){switch(n.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if("object"==typeof t&&t&&"number"==typeof t.length)try{if("function"==typeof t.callee)return"arguments"}catch(e){if(e instanceof TypeError)return"arguments"}return null===t?"null":void 0===t?"undefined":t&&1===t.nodeType?"element":t===Object(t)?"object":typeof t}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function n(){p=!1,s.length?u=s.concat(u):c=-1,u.length&&r()}function r(){if(!p){var t=setTimeout(n);p=!0;for(var e=u.length;e;){for(s=u,u=[];++c<e;)s&&s[c].run();c=-1,e=u.length}s=null,p=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function i(){}var s,a=t.exports={},u=[],p=!1,c=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new o(t,e)),1!==u.length||p||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=i,a.addListener=i,a.once=i,a.off=i,a.removeListener=i,a.removeAllListeners=i,a.emit=i,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e){}])})},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){!function(){Array.prototype.CSSClassIndexOf=Array.prototype.indexOf||function(t){for(var e=this.length,n=0;e>n;n++)if(this[n]===t)return n;return-1};var t="classList"in document.createElement("a"),e=Element.prototype;t?(e.hasClass||(e.hasClass=function(t){Array.prototype.slice.call(this.classList);t=t.split(" ");for(var e=0;e<t.length;e++)if(!this.classList.contains(t[e]))return!1;return!0}),e.addClass||(e.addClass=function(t){t=t.split(" ");for(var e=0;e<t.length;e++)this.hasClass(t[e])||this.classList.add(t[e]);return this}),e.removeClass||(e.removeClass=function(t){this.className.split(" ");t=t.split(" ");for(var e=0;e<t.length;e++)this.hasClass(t[e])&&this.classList.remove(t[e]);return this}),e.toggleClass||(e.toggleClass=function(t){t=t.split(" ");for(var e=0;e<t.length;e++)this.classList.toggle(t[e]);return this})):(e.hasClass||(e.hasClass=function(t){var e=this.className.split(" ");t=t.split(" ");for(var n=0;n<t.length;n++)if(-1===e.CSSClassIndexOf(t[n]))return!1;return!0}),e.addClass||(e.addClass=function(t){t=t.split(" ");for(var e=0;e<t.length;e++)this.hasClass(t[e])||(this.className=""!==this.className?this.className+" "+t[e]:t[e]);return this}),e.removeClass||(e.removeClass=function(t){var e=this.className.split(" ");t=t.split(" ");for(var n=0;n<t.length;n++)this.hasClass(t[n])&&e.splice(e.CSSClassIndexOf(t[n]),1);return this.className=e.join(" "),this}),e.toggleClass||(e.toggleClass=function(t){t=t.split(" ");for(var e=0;e<t.length;e++)this.hasClass(t[e])?this.removeClass(t[e]):this.addClass(t[e]);return this}));var n=NodeList.prototype;n.hasClass||(n.hasClass=function(t,e){void 0===e&&(e=!0);for(var n=this.length-1;n>=0;--n){var r=this[n].hasClass(t);if(e&&!r)return!1;if(!e&&r)return!0}return!0}),n.addClass||(n.addClass=function(t){for(var e=0;e<this.length;++e)this[e].addClass(t)}),n.removeClass||(n.removeClass=function(t){for(var e=0;e<this.length;++e)this[e].removeClass(t)}),n.toggleClass||(n.toggleClass=function(t){for(var e=0;e<this.length;++e)this[e].toggleClass(t)})}()},function(t,e,n){function r(t,e){return function(n){r.init(n),r.goahead(n,t),r.retreat(n,e),r.quiescence(n)}}n(11);var o=n(13);t.exports=r;var i=["pt-page-moveToLeft,pt-page-moveFromRight","pt-page-moveToRight,pt-page-moveFromLeft","pt-page-moveToTop,pt-page-moveFromBottom","pt-page-moveToBottom,pt-page-moveFromTop","pt-page-fade,pt-page-moveFromRight pt-page-ontop","pt-page-fade,pt-page-moveFromLeft pt-page-ontop","pt-page-fade,pt-page-moveFromBottom pt-page-ontop","pt-page-fade,pt-page-moveFromTop pt-page-ontop","pt-page-moveToLeftFade,pt-page-moveFromRightFade","pt-page-moveToRightFade,pt-page-moveFromLeftFade","pt-page-moveToTopFade,pt-page-moveFromBottomFade","pt-page-moveToBottomFade,pt-page-moveFromTopFade","pt-page-moveToLeftEasing pt-page-ontop,pt-page-moveFromRight","pt-page-moveToRightEasing pt-page-ontop,pt-page-moveFromLeft","pt-page-moveToTopEasing pt-page-ontop,pt-page-moveFromBottom","pt-page-moveToBottomEasing pt-page-ontop,pt-page-moveFromTop","pt-page-scaleDown,pt-page-moveFromRight pt-page-ontop","pt-page-scaleDown,pt-page-moveFromLeft pt-page-ontop","pt-page-scaleDown,pt-page-moveFromBottom pt-page-ontop","pt-page-scaleDown,pt-page-moveFromTop pt-page-ontop","pt-page-scaleDown,pt-page-scaleUpDown pt-page-delay300","pt-page-scaleDownUp,pt-page-scaleUp pt-page-delay300","pt-page-moveToLeft pt-page-ontop,pt-page-scaleUp","pt-page-moveToRight pt-page-ontop,pt-page-scaleUp","pt-page-moveToTop pt-page-ontop,pt-page-scaleUp","pt-page-moveToBottom pt-page-ontop,pt-page-scaleUp","pt-page-scaleDownCenter,pt-page-scaleUpCenter pt-page-delay400","pt-page-rotateRightSideFirst,pt-page-moveFromRight pt-page-delay200 pt-page-ontop","pt-page-rotateLeftSideFirst,pt-page-moveFromLeft pt-page-delay200 pt-page-ontop","pt-page-rotateTopSideFirst,pt-page-moveFromTop pt-page-delay200 pt-page-ontop","pt-page-rotateBottomSideFirst,pt-page-moveFromBottom pt-page-delay200 pt-page-ontop","pt-page-flipOutRight,pt-page-flipInLeft pt-page-delay500","pt-page-flipOutLeft,pt-page-flipInRight pt-page-delay500","pt-page-flipOutTop,pt-page-flipInBottom pt-page-delay500","pt-page-flipOutBottom,pt-page-flipInTop pt-page-delay500","pt-page-rotateFall pt-page-ontop,pt-page-scaleUp","pt-page-rotateOutNewspaper,pt-page-rotateInNewspaper pt-page-delay500","pt-page-rotatePushLeft,pt-page-moveFromRight","pt-page-rotatePushRight,pt-page-moveFromLeft","pt-page-rotatePushTop,pt-page-moveFromBottom","pt-page-rotatePushBottom,pt-page-moveFromTop","pt-page-rotatePushLeft,pt-page-rotatePullRight pt-page-delay180","pt-page-rotatePushRight,pt-page-rotatePullLeft pt-page-delay180","pt-page-rotatePushTop,pt-page-rotatePullBottom pt-page-delay180","pt-page-rotatePushBottom,pt-page-rotatePullTop pt-page-delay180","pt-page-rotateFoldLeft,pt-page-moveFromRightFade","pt-page-rotateFoldRight,pt-page-moveFromLeftFade","pt-page-rotateFoldTop,pt-page-moveFromBottomFade","pt-page-rotateFoldBottom,pt-page-moveFromTopFade","pt-page-moveToRightFade,pt-page-rotateUnfoldLeft","pt-page-moveToLeftFade,pt-page-rotateUnfoldRight","pt-page-moveToBottomFade,pt-page-rotateUnfoldTop","pt-page-moveToTopFade,pt-page-rotateUnfoldBottom","pt-page-rotateRoomLeftOut pt-page-ontop,pt-page-rotateRoomLeftIn","pt-page-rotateRoomRightOut pt-page-ontop,pt-page-rotateRoomRightIn","pt-page-rotateRoomTopOut pt-page-ontop,pt-page-rotateRoomTopIn","pt-page-rotateRoomBottomOut pt-page-ontop,pt-page-rotateRoomBottomIn","pt-page-rotateCubeLeftOut pt-page-ontop,pt-page-rotateCubeLeftIn","pt-page-rotateCubeRightOut pt-page-ontop,pt-page-rotateCubeRightIn","pt-page-rotateCubeTopOut pt-page-ontop,pt-page-rotateCubeTopIn","pt-page-rotateCubeBottomOut pt-page-ontop,pt-page-rotateCubeBottomIn","pt-page-rotateCarouselLeftOut pt-page-ontop,pt-page-rotateCarouselLeftIn","pt-page-rotateCarouselRightOut pt-page-ontop,pt-page-rotateCarouselRightIn","pt-page-rotateCarouselTopOut pt-page-ontop,pt-page-rotateCarouselTopIn","pt-page-rotateCarouselBottomOut pt-page-ontop,pt-page-rotateCarouselBottomIn","pt-page-rotateSidesOut,pt-page-rotateSidesIn pt-page-delay200","pt-page-rotateSlideOut,pt-page-rotateSlideIn"];r.animating=!1,r.init=function(t){var e=t.views,n=Object.keys(e);if(!n.length)throw new Error("no webview, please add webview on page.");var r,o=t.views[n[0]].wraproot,i=n.length;for(r=o===document.body?document.body:o.parentNode,r.addClass("pt-perspective");i--;)e[n[i]].wraproot.addClass("pt-page")},r.goahead=function(t,e){var n=r.which(e);t.on("goahead",function(){if(!r.animating){r.animating=!0;var e=t.current,i=t.target;o(i.wraproot).then(function(n){e&&e.wraproot.setAttribute("class","pt-page webview hide"),i.wraproot.setAttribute("class","pt-page webview pt-page-current"),t.exchange(),r.animating=!1}),e&&e.wraproot.setAttribute("class","pt-page webview "+n[0]+" page-show"),i&&i.wraproot.setAttribute("class","pt-page webview pt-page-current "+n[1])}})},r.retreat=function(t,e){var n=r.which(e);t.on("retreat",function(){if(!r.animating){r.animating=!0;var e=t.current,i=t.target;o(i.wraproot).then(function(n){e&&e.wraproot.setAttribute("class","pt-page webview hide"),i.wraproot.setAttribute("class","pt-page webview pt-page-current"),t.exchange(),r.animating=!1}),e&&e.wraproot.setAttribute("class","pt-page webview "+n[0]+" page-show"),i&&i.wraproot.setAttribute("class","pt-page webview pt-page-current "+n[1])}})},r.quiescence=function(t){t.on("quiescence",function(){t.exchange()})},r.which=function(t){return i[t].split(",")}},function(t,e,n){function r(){function t(t){return Object.keys(t).filter(function(t){return t in e.style}).map(function(e){return t[e]})}var e=document.createElement("div"),n=[i,s].reduce(function(e,n){return e.concat(t(n))},[]);return n}var o=n(14).Promise,i={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},s={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"};t.exports=function(t,e){var n=r();return new o(function(r,o){function i(o){n.forEach(function(e){t.removeEventListener(e,i,!1)}),r(o),e&&e(o)}n.forEach(function(e){t.addEventListener(e,i,!1)})})}},function(t,e,n){var r;(function(t,o,i,s){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   2.3.0
	 */
(function(){"use strict";function a(t){return"function"==typeof t||"object"==typeof t&&null!==t}function u(t){return"function"==typeof t}function p(t){return"object"==typeof t&&null!==t}function c(t){X=t}function l(t){Z=t}function f(){var e=t.nextTick,n=t.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(n)&&"0"===n[1]&&"10"===n[2]&&(e=o),function(){e(g)}}function h(){return function(){H(g)}}function d(){var t=0,e=new et(g),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function v(){var t=new MessageChannel;return t.port1.onmessage=g,function(){t.port2.postMessage(0)}}function m(){return function(){setTimeout(g,1)}}function g(){for(var t=0;V>t;t+=2){var e=ot[t],n=ot[t+1];e(n),ot[t]=void 0,ot[t+1]=void 0}V=0}function y(){try{var t=n(15);return H=t.runOnLoop||t.runOnContext,h()}catch(e){return m()}}function w(){}function _(){return new TypeError("You cannot resolve a promise with itself")}function b(){return new TypeError("A promises callback cannot return that same promise.")}function x(t){try{return t.then}catch(e){return ut.error=e,ut}}function T(t,e,n,r){try{t.call(e,n,r)}catch(o){return o}}function E(t,e,n){Z(function(t){var r=!1,o=T(n,e,function(n){r||(r=!0,e!==n?F(t,n):S(t,n))},function(e){r||(r=!0,j(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,j(t,o))},t)}function L(t,e){e._state===st?S(t,e._result):e._state===at?j(t,e._result):O(e,void 0,function(e){F(t,e)},function(e){j(t,e)})}function C(t,e){if(e.constructor===t.constructor)L(t,e);else{var n=x(e);n===ut?j(t,ut.error):void 0===n?S(t,e):u(n)?E(t,e,n):S(t,e)}}function F(t,e){t===e?j(t,_()):a(e)?C(t,e):S(t,e)}function A(t){t._onerror&&t._onerror(t._result),R(t)}function S(t,e){t._state===it&&(t._result=e,t._state=st,0!==t._subscribers.length&&Z(R,t))}function j(t,e){t._state===it&&(t._state=at,t._result=e,Z(A,t))}function O(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+st]=n,o[i+at]=r,0===i&&t._state&&Z(R,t)}function R(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r,o,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?P(n,r,o,i):o(i);t._subscribers.length=0}}function I(){this.error=null}function k(t,e){try{return t(e)}catch(n){return pt.error=n,pt}}function P(t,e,n,r){var o,i,s,a,p=u(n);if(p){if(o=k(n,r),o===pt?(a=!0,i=o.error,o=null):s=!0,e===o)return void j(e,b())}else o=r,s=!0;e._state!==it||(p&&s?F(e,o):a?j(e,i):t===st?S(e,o):t===at&&j(e,o))}function B(t,e){try{e(function(e){F(t,e)},function(e){j(t,e)})}catch(n){j(t,n)}}function q(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(w),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?S(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&S(n.promise,n._result))):j(n.promise,n._validationError())}function N(t){return new ct(this,t).promise}function U(t){function e(t){F(o,t)}function n(t){j(o,t)}var r=this,o=new r(w);if(!K(t))return j(o,new TypeError("You must pass an array to race.")),o;for(var i=t.length,s=0;o._state===it&&i>s;s++)O(r.resolve(t[s]),void 0,e,n);return o}function M(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(w);return F(n,t),n}function z(t){var e=this,n=new e(w);return j(n,t),n}function D(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function $(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function J(t){this._id=vt++,this._state=void 0,this._result=void 0,this._subscribers=[],w!==t&&(u(t)||D(),this instanceof J||$(),B(this,t))}function Y(){var t;if("undefined"!=typeof i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=mt)}var W;W=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var H,X,G,K=W,V=0,Z=({}.toString,function(t,e){ot[V]=t,ot[V+1]=e,V+=2,2===V&&(X?X(g):G())}),Q="undefined"!=typeof window?window:void 0,tt=Q||{},et=tt.MutationObserver||tt.WebKitMutationObserver,nt="undefined"!=typeof t&&"[object process]"==={}.toString.call(t),rt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ot=new Array(1e3);G=nt?f():et?d():rt?v():void 0===Q?y():m();var it=void 0,st=1,at=2,ut=new I,pt=new I;q.prototype._validateInput=function(t){return K(t)},q.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},q.prototype._init=function(){this._result=new Array(this.length)};var ct=q;q.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,r=t._input,o=0;n._state===it&&e>o;o++)t._eachEntry(r[o],o)},q.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;p(t)?t.constructor===r&&t._state!==it?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=t)},q.prototype._settledAt=function(t,e,n){var r=this,o=r.promise;o._state===it&&(r._remaining--,t===at?j(o,n):r._result[e]=n),0===r._remaining&&S(o,r._result)},q.prototype._willSettleAt=function(t,e){var n=this;O(t,void 0,function(t){n._settledAt(st,e,t)},function(t){n._settledAt(at,e,t)})};var lt=N,ft=U,ht=M,dt=z,vt=0,mt=J;J.all=lt,J.race=ft,J.resolve=ht,J.reject=dt,J._setScheduler=c,J._setAsap=l,J._asap=Z,J.prototype={constructor:J,then:function(t,e){var n=this,r=n._state;if(r===st&&!t||r===at&&!e)return this;var o=new this.constructor(w),i=n._result;if(r){var s=arguments[r-1];Z(function(){P(r,o,s,i)})}else O(n,o,t,e);return o},"catch":function(t){return this.then(null,t)}};var gt=Y,yt={Promise:mt,polyfill:gt};n(9).amd?(r=function(){return yt}.call(e,n,e,s),!(void 0!==r&&(s.exports=r))):"undefined"!=typeof s&&s.exports?s.exports=yt:"undefined"!=typeof this&&(this.ES6Promise=yt),gt()}).call(this)}).call(e,n(2),n(1).setImmediate,function(){return this}(),n(10)(t))},function(t,e){}])});