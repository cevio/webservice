!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.sohttp=t():e.sohttp=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t,n,r){return this.stacks.push(new a(e,t,n,r)),this}function i(e){function t(a){if(a&&"route"===a)return e();var c=u[n++];if(!c)return e(a);var h=c.match(o);if(h)if(r.params=c.params,"use"===c.method)a?c.handle_error(a,r,i,t):c.handle_request(r,i,t);else if(s===c.method)"load"===s?(s="active",a?c.handle_error(a,r,i,t):(c.handle_request(r,i),t())):a?c.handle_error(a,r,i,t):(c.handle_request(r,i),t("route"));else{if("active"===c.method&&"load"===s){var f=e;e=function(){a?c.handle_error(a,r,i,t):c.handle_request(r,i),f()}}t(a)}else t(a)}var n=0,r=this.request,i=this.response,o=r.path,s=r.method,u=this.stacks;return e||(e=function(){}),0===u.length?e():void t()}function o(){var e=this,t=this.namespace+"-history",n=this.request.session[t]||"[]",r=this.request.href;n=JSON.parse(n),this.history="goahead",history.pushState({url:r},document.title,"#"+r),-1===n.indexOf(r)&&(n.push(r),this.response.session.set(t,n)),this.match(function(){e.emit("ready",e.request,e.response)})}var s=n(5),u=n(6),a=n(4),c=n(1),h=n(8).EventEmitter,f=e.exports=function(){this.request=new s,this.response=new u,this.namespace="http",c.defineFreeze(this.request,"http",this),c.defineFreeze(this.response,"http",this),c.defineFreeze(this,"define",function(e,t){c.define(this,e,t)}),c.defineFreeze(this,"defineFreeze",function(e,t){c.defineFreeze(this,e,t)}),this.handle()};f.prototype=h.prototype,f.prototype.handle=function(){this.caseSensitive=!1,this.defineFreeze("stacks",[]),this.defineFreeze("push",r),this.defineFreeze("match",i),this.define("listen",o),this.defineFreeze("looser",{sensitive:this.caseSensitive,strict:!1,end:!1}),this.defineFreeze("strict",{sensitive:this.caseSensitive,strict:!0,end:!0})},f.prototype.use=function(e,t){return"function"==typeof e&&(t=e,e="/"),this.push("use",e,this.looser,t)},f.prototype.load=function(e,t){return"function"==typeof e&&(t=e,e="/"),this.push("load",e,this.strict,t)},f.prototype.active=function(e,t){return"function"==typeof e&&(t=e,e="/"),this.push("active",e,this.strict,t)},f.request=s,f.response=u,f.createServer=function(e){var t=new f;return"function"==typeof e&&e(t.request,t.response),t}},function(e,t){"use strict";t.define=function(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})},t.defineFreeze=function(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!1,configurable:!1})}},function(e,t,n){var r,i;!function(o){r=o,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i))}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(n){function r(t,i,o){var s;if(arguments.length>1){if(o=e({path:"/"},r.defaults,o),"number"==typeof o.expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*o.expires),o.expires=u}try{s=JSON.stringify(i),/^[\{\[]/.test(s)&&(i=s)}catch(a){}return i=encodeURIComponent(String(i)),i=i.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",i,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}t||(s={});for(var c=document.cookie?document.cookie.split("; "):[],h=/(%[0-9A-Z]{2})+/g,f=0;f<c.length;f++){var l=c[f].split("="),p=l[0].replace(h,decodeURIComponent),d=l.slice(1).join("=");'"'===d.charAt(0)&&(d=d.slice(1,-1));try{if(d=n&&n(d,p)||d.replace(h,decodeURIComponent),this.json)try{d=JSON.parse(d)}catch(a){}if(t===p){s=d;break}t||(s[p]=d)}catch(a){}}return s}return r.get=r.set=r,r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}return t()})},function(e,t,n){var r=n(12);t.format=function(e,t){if(e&&e.length){var n={};return e.split("&").forEach(function(e){var i,o,s=e.indexOf("=");s>-1?(i=e.substring(0,s),o=e.substring(s+1)):(i=e,o=""),t&&(o=decodeURIComponent(o)),void 0!==n[i]?r.type(n[i],"Array")?-1===n[i].indexOf(o)&&n[i].push(o):n[i]!==o&&(n[i]=[n[i]],n[i].push(o)):n[i]=o}),n}return{}},t.toString=function(e,t){var n=[];for(var r in e)n.push(r+"="+(t?encodeURIComponent(e[r]):e[r]));return n.join("&")}},function(e,t,n){"use strict";function r(e,t,n,i){if(!(this instanceof r))return new r(t,n,i);var s=n||{};this.handle=i,this.name=i.name||"<anonymous>",this.params=void 0,this.path=void 0,this.method=e,this.regexp=o(t,this.keys=[],s),"/"===t&&s.end===!1&&(this.regexp.fast_slash=!0)}function i(e){if("string"!=typeof e||0===e.length)return e;try{return decodeURIComponent(e)}catch(t){throw t instanceof URIError&&(t.message="Failed to decode param '"+e+"'",t.status=t.statusCode=400),t}}var o=n(10),s=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.handle_error=function(e,t,n,r){var i=this.handle;if(4!==i.length)return r(e);try{i(e,t,n,r)}catch(o){r(o)}},r.prototype.handle_request=function(e,t,n){var r=this.handle;if(r.length>3)return n();try{r(e,t,n)}catch(i){n(i)}},r.prototype.match=function(e){if(null==e)return this.params=void 0,this.path=void 0,!1;if(this.regexp.fast_slash)return this.params={},this.path="",!0;var t=this.regexp.exec(e);if(!t)return this.params=void 0,this.path=void 0,!1;this.params={},this.path=t[0];for(var n=this.keys,r=this.params,o=1;o<t.length;o++){var u=n[o-1],a=u.name,c=i(t[o]);void 0===c&&s.call(r,a)||(r[a]=c)}return!0}},function(e,t,n){"use strict";function r(e){var t=window[e+"Storage"],n={};if(t)for(var r in t)n[r]=t.getItem(r);return n}var i=n(3),o=n(1),s=n(2),u=e.exports=function(){this.href=null,this.query=null,this.params=null,this.path=null,this.search=null,this.method=null,this.referer=null,o.defineFreeze(this,"define",function(e,t){o.define(this,e,t)}),o.defineFreeze(this,"defineFreeze",function(e,t){o.defineFreeze(this,e,t)}),this.defineFreeze("paths",[]),this.init(),this.store=r("local"),this.session=r("session"),this.cookie=s.get()||{}};u.prototype.init=function(){this.href=(window.location.hash||"").replace(/^#/,"")||"/";var e=this.href.indexOf("?");e>-1?(this.path=this.href.substring(0,e),this.search=this.href.substring(e+1)):(this.path=this.href,this.search=""),this.path=this.path||"/",this.search.length?this.query=i.format(this.search):this.query={},this.method="active",-1==this.paths.indexOf(this.path)&&(this.method="load",this.paths.push(this.path))}},function(e,t,n){"use strict";function r(e){var t=document.body;document.title=e;var n=document.createElement("iframe");n.src="/favicon.ico",n.onload=function(){setTimeout(function(){n.parentNode.removeChild(n)},0)},t.appendChild(n)}function i(){for(var e,t,n,r=arguments,i=0;i<r.length;i++)switch(Object.prototype.toString.call(r[i])){case"[object Function]":n=r[i];break;case"[object Object]":t=r[i];break;case"[object String]":e=r[i]}t||(t={});var o=e.indexOf("?"),u=void 0,h=void 0;if(o>-1?(u=e.substring(0,o),h=e.substring(o+1)):(u=e.replace(/\?$/,""),h=""),h){var f=a.format(h);for(var l in f)t[l]||(t[l]=f[l])}var p=a.toString(t);return e=p.length?u+"?"+p:u,"function"!=typeof n?new c(function(t){s(e,t)}):void s(e,n)}var o=n(2),s=n(9),u=n(1),a=n(3),c=n(7).Promise,h=function(e){return{set:function(t,n){window.localStorage.setItem(t,JSON.stringify(n)),e.http.request.store[t]=n},remove:function(t){e.http.request.store[t]&&(window.localStorage.removeItem(t),delete e.http.request.store[t])}}},f=function(e){return{set:function(t,n){window.sessionStorage.setItem(t,JSON.stringify(n)),e.http.request.session[t]=n},remove:function(t){e.http.request.session[t]&&(window.sessionStorage.removeItem(t),delete e.http.request.session[t])}}},l=function(e){return{set:function(t,n){o.set(t,n),e.http.request.cookie[t]=n},remove:function(t){e.http.request.cookie[t]&&(o.remove(t),delete e.http.request.cookie[t])}}},p=e.exports=function(){u.defineFreeze(this,"define",function(e,t){u.define(this,e,t)}),u.defineFreeze(this,"defineFreeze",function(e,t){u.defineFreeze(this,e,t)}),this.defineFreeze("title",r),this.defineFreeze("cookie",l(this)),this.defineFreeze("jsonp",i),this.defineFreeze("store",h(this)),this.defineFreeze("session",f(this))};p.prototype.redirect=function(e,t){var n=this.http,r=n.request,i=this,o=this.http.namespace+"-history",s=r.session[o]||"[]";s=JSON.parse(s);var u=r.referer?s.indexOf(r.referer):-1,a=s.indexOf(e);-1==u?n.history="goahead":-1==a?n.history="goahead":a>u?n.history="goahead":u>a?n.history="retreat":n.history="quiescence",t?history.replaceState({url:e},document.title,"#"+e):history.pushState({url:e},document.title,"#"+e),-1===s.indexOf(e)&&(s.push(e),this.session.set(o,s)),setTimeout(function(){r.init(),n.match(function(){r.referer=e,n.emit("redirected",r,i)})},0)}},function(e,t,n){var r;(function(e,i,o){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.0.2
	 */
(function(){"use strict";function s(e){return"function"==typeof e||"object"==typeof e&&null!==e}function u(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function c(e){W=e}function h(e){Q=e}function f(){return function(){e.nextTick(m)}}function l(){return function(){K(m)}}function p(){var e=0,t=new ee(m),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function d(){var e=new MessageChannel;return e.port1.onmessage=m,function(){e.port2.postMessage(0)}}function v(){return function(){setTimeout(m,1)}}function m(){for(var e=0;H>e;e+=2){var t=re[e],n=re[e+1];t(n),re[e]=void 0,re[e+1]=void 0}H=0}function y(){try{var e=n(16);return K=e.runOnLoop||e.runOnContext,l()}catch(t){return v()}}function g(){}function _(){return new TypeError("You cannot resolve a promise with itself")}function w(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(t){return ue.error=t,ue}}function x(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function E(e,t,n){Q(function(e){var r=!1,i=x(n,t,function(n){r||(r=!0,t!==n?A(e,n):L(e,n))},function(t){r||(r=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,k(e,i))},e)}function S(e,t){t._state===oe?L(e,t._result):t._state===se?k(e,t._result):O(t,void 0,function(t){A(e,t)},function(t){k(e,t)})}function j(e,t){if(t.constructor===e.constructor)S(e,t);else{var n=b(t);n===ue?k(e,ue.error):void 0===n?L(e,t):u(n)?E(e,t,n):L(e,t)}}function A(e,t){e===t?k(e,_()):s(t)?j(e,t):L(e,t)}function F(e){e._onerror&&e._onerror(e._result),T(e)}function L(e,t){e._state===ie&&(e._result=t,e._state=oe,0!==e._subscribers.length&&Q(T,e))}function k(e,t){e._state===ie&&(e._state=se,e._result=t,Q(F,e))}function O(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+oe]=n,i[o+se]=r,0===o&&e._state&&Q(T,e)}function T(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,s=0;s<t.length;s+=3)r=t[s],i=t[s+n],r?z(n,r,i,o):i(o);e._subscribers.length=0}}function C(){this.error=null}function q(e,t){try{return e(t)}catch(n){return ae.error=n,ae}}function z(e,t,n,r){var i,o,s,a,c=u(n);if(c){if(i=q(n,r),i===ae?(a=!0,o=i.error,i=null):s=!0,t===i)return void k(t,w())}else i=r,s=!0;t._state!==ie||(c&&s?A(t,i):a?k(t,o):e===oe?L(t,i):e===se&&k(t,i))}function I(e,t){try{t(function(t){A(e,t)},function(t){k(e,t)})}catch(n){k(e,n)}}function R(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(g),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?L(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&L(n.promise,n._result))):k(n.promise,n._validationError())}function U(e){return new ce(this,e).promise}function M(e){function t(e){A(i,e)}function n(e){k(i,e)}var r=this,i=new r(g);if(!G(e))return k(i,new TypeError("You must pass an array to race.")),i;for(var o=e.length,s=0;i._state===ie&&o>s;s++)O(r.resolve(e[s]),void 0,t,n);return i}function N(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(g);return A(n,e),n}function P(e){var t=this,n=new t(g);return k(n,e),n}function $(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function J(e){this._id=de++,this._state=void 0,this._result=void 0,this._subscribers=[],g!==e&&(u(e)||$(),this instanceof J||B(),I(this,e))}function D(){var e;if("undefined"!=typeof i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(e.Promise=ve)}var Y;Y=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var K,W,Z,G=Y,H=0,Q=({}.toString,function(e,t){re[H]=e,re[H+1]=t,H+=2,2===H&&(W?W(m):Z())}),V="undefined"!=typeof window?window:void 0,X=V||{},ee=X.MutationObserver||X.WebKitMutationObserver,te="undefined"!=typeof e&&"[object process]"==={}.toString.call(e),ne="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,re=new Array(1e3);Z=te?f():ee?p():ne?d():void 0===V?y():v();var ie=void 0,oe=1,se=2,ue=new C,ae=new C;R.prototype._validateInput=function(e){return G(e)},R.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},R.prototype._init=function(){this._result=new Array(this.length)};var ce=R;R.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,i=0;n._state===ie&&t>i;i++)e._eachEntry(r[i],i)},R.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;a(e)?e.constructor===r&&e._state!==ie?(e._onerror=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=e)},R.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===ie&&(r._remaining--,e===se?k(i,n):r._result[t]=n),0===r._remaining&&L(i,r._result)},R.prototype._willSettleAt=function(e,t){var n=this;O(e,void 0,function(e){n._settledAt(oe,t,e)},function(e){n._settledAt(se,t,e)})};var he=U,fe=M,le=N,pe=P,de=0,ve=J;J.all=he,J.race=fe,J.resolve=le,J.reject=pe,J._setScheduler=c,J._setAsap=h,J._asap=Q,J.prototype={constructor:J,then:function(e,t){var n=this,r=n._state;if(r===oe&&!e||r===se&&!t)return this;var i=new this.constructor(g),o=n._result;if(r){var s=arguments[r-1];Q(function(){z(r,i,s,o)})}else O(n,i,e,t);return i},"catch":function(e){return this.then(null,e)}};var me=D,ye={Promise:ve,polyfill:me};n(13).amd?(r=function(){return ye}.call(t,n,t,o),!(void 0!==r&&(o.exports=r))):"undefined"!=typeof o&&o.exports?o.exports=ye:"undefined"!=typeof this&&(this.ES6Promise=ye),me()}).call(this)}).call(t,n(15),function(){return this}(),n(14)(e))},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,u,a,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,u=new Array(i-1),a=1;i>a;a++)u[a-1]=arguments[a];n.apply(this,u)}else if(o(n)){for(i=arguments.length,u=new Array(i-1),a=1;i>a;a++)u[a-1]=arguments[a];for(c=n.slice(),i=c.length,a=0;i>a;a++)c[a].apply(this,u)}return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var i;i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,s,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(u=s;u-->0;)if(n[u]===t||n[u].listener&&n[u].listener===t){i=u;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},function(e,t){function n(e){for(var t="",n=0;e>n;n++){var i=Math.ceil(35*Math.random());t+=r[i]}return t}var r=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],i=e.exports=function(e,t,r){r||(r="callback");var o=e.indexOf("?"),s="",u="",a="jsonp_"+(new Date).getTime()+"_"+n(10),c=null;o>-1?(u=e.substring(o),s=e.substring(0,o),e="?"===u?s+"?"+r+"="+a:s+u+"&"+r+"="+a):e=e+"?"+r+"="+a,window[a]=function(e){c=e},i.script(e,function(){setTimeout(function(){"function"==typeof t&&t(c)},0)})};i.script=function(e,t){var n=document.createElement("script"),r=window.document,i=r.head||r.getElementsByTagName("head")[0]||r.documentElement,o=i.getElementsByTagName("base")[0];n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n.onreadystatechange=null,"function"==typeof t&&t.call(this))},n.async=!0,n.src=e,o?i.insertBefore(n,o):i.appendChild(n)}},function(e,t,n){function r(e){for(var t,n=[],r=0,i=0,o="";null!=(t=m.exec(e));){var s=t[0],a=t[1],c=t.index;if(o+=e.slice(i,c),i=c+s.length,a)o+=a[1];else{o&&(n.push(o),o="");var h=t[2],f=t[3],l=t[4],p=t[5],d=t[6],v=t[7],y="+"===d||"*"===d,g="?"===d||"*"===d,_=h||"/",w=l||p||(v?".*":"[^"+_+"]+?");n.push({name:f||r++,prefix:h||"",delimiter:_,optional:g,repeat:y,pattern:u(w)})}}return i<e.length&&(o+=e.substr(i)),o&&n.push(o),n}function i(e){return o(r(e))}function o(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^"+e[n].pattern+"$"));return function(n){for(var r="",i=n||{},o=0;o<e.length;o++){var s=e[o];if("string"!=typeof s){var u,a=i[s.name];if(null==a){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to be defined')}if(v(a)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received "'+a+'"');if(0===a.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var c=0;c<a.length;c++){if(u=encodeURIComponent(a[c]),!t[o].test(u))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received "'+u+'"');r+=(0===c?s.prefix:s.delimiter)+u}}else{if(u=encodeURIComponent(a),!t[o].test(u))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+u+'"');r+=s.prefix+u}}else r+=s}return r}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function a(e,t){return e.keys=t,e}function c(e){return e.sensitive?"":"i"}function h(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return a(e,t)}function f(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);var o=new RegExp("(?:"+r.join("|")+")",c(n));return a(o,t)}function l(e,t,n){for(var i=r(e),o=p(i,n),s=0;s<i.length;s++)"string"!=typeof i[s]&&t.push(i[s]);return a(o,t)}function p(e,t){t=t||{};for(var n=t.strict,r=t.end!==!1,i="",o=e[e.length-1],u="string"==typeof o&&/\/$/.test(o),a=0;a<e.length;a++){var h=e[a];if("string"==typeof h)i+=s(h);else{var f=s(h.prefix),l=h.pattern;h.repeat&&(l+="(?:"+f+l+")*"),l=h.optional?f?"(?:"+f+"("+l+"))?":"("+l+")?":f+"("+l+")",i+=l}}return n||(i=(u?i.slice(0,-2):i)+"(?:\\/(?=$))?"),i+=r?"$":n&&u?"":"(?=\\/|$)",new RegExp("^"+i,c(t))}function d(e,t,n){return t=t||[],v(t)?n||(n={}):(n=t,t=[]),e instanceof RegExp?h(e,t,n):v(e)?f(e,t,n):l(e,t,n)}var v=n(11);e.exports=d,e.exports.parse=r,e.exports.compile=i,e.exports.tokensToFunction=o,e.exports.tokensToRegExp=p;var m=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){t.type=function(e,t){var n=Object.prototype.toString.call(e).split(" ")[1].replace(/\]$/,"");return t?n==t:n},t.mixin=function(e,t,n){for(var r in t)e[r]?n&&(e[r]=t[r]):e[r]=t[r];return e}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){function n(){c=!1,s.length?a=s.concat(a):h=-1,a.length&&r()}function r(){if(!c){var e=setTimeout(n);c=!0;for(var t=a.length;t;){for(s=a,a=[];++h<t;)s&&s[h].run();h=-1,t=a.length}s=null,c=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function o(){}var s,u=e.exports={},a=[],c=!1,h=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new i(e,t)),1!==a.length||c||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=o,u.addListener=o,u.once=o,u.off=o,u.removeListener=o,u.removeAllListeners=o,u.emit=o,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t){}])});